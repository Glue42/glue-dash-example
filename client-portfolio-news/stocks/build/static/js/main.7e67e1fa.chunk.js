(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{25:function(e,t,n){e.exports=n(55)},36:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(7),l=n.n(c),o=n(15),i=n(23),s=n.n(i),u=n(9),d=(n(35),n(36),n(0)),f=n.n(d),m=n(11),h=n(2),v=n(6),b={headers:{accept:"application/json"}},p=r.a.createElement("svg",{color:"green",width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-arrow-up-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"})),w=r.a.createElement("svg",{color:"red",width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-arrow-down-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})),g=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.channels.list();case 2:return n=e.sent,a=n.map((function(e){return{name:e.name,color:e.meta.color}})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){return function(t){var n=t.value;"No channel"===n?e.channels.my()&&e.channels.leave():e.channels.join(n)}};var j=function(e){var t=e.client;return r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body d-flex justify-content-between"},r.a.createElement("h5",{class:"card-title"},null!=t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.firstName,n=e.lastName;return"".concat(t," ").concat(n)}(t):null),r.a.createElement("p",{class:"card-text"},"Portfolio Value: $",null===t||void 0===t?void 0:t.portfolioValue)))},O=function(e){return e[e.length-1]};var k=function(e){var t=e.stocks;return r.a.createElement("table",{id:"portfolioTable",className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Symbol"),r.a.createElement("th",null,"Name"),r.a.createElement("th",{className:"text-right"},"Percentage Change"),r.a.createElement("th",{className:"text-right"},"Current Price"))),r.a.createElement("tbody",null,t.map((function(e){var t=e.id,n=e.name,a=e.symbol,c=e.lastClosePrice,l=e.lastPrices;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,function(e){var t=e.lastPrices,n=e.lastClosePrice;return O(t)>=n}({lastClosePrice:c,lastPrices:l})?p:w),r.a.createElement("td",null,a&&a.toUpperCase()),r.a.createElement("td",null,n&&n.toUpperCase()),r.a.createElement("td",{className:"text-right"},function(e){var t=e.lastPrices,n=e.lastClosePrice;return((O(t)-n)/n*100).toFixed(2)}({lastPrices:l,lastClosePrice:c})," %"),r.a.createElement("td",{className:"text-right"},"$ ",O(l)))}))))},x=n(5),C=n(16),N=n.n(C),y=n(24),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ccc";return{alignItems:"center",display:"flex",":before":{backgroundColor:e,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}},S={container:function(e){return Object(h.a)(Object(h.a)({},e),{},{width:"148px"})},control:function(e){return Object(h.a)(Object(h.a)({},e),{},{backgroundColor:"white"})},option:function(e,t){var n=t.data,a=t.isDisabled,r=t.isFocused,c=t.isSelected,l=N()(n.color||"#E4E5E9");return Object(h.a)(Object(h.a)({},e),{},{backgroundColor:a?null:c?n.color:r?l.alpha(.1).css():null,color:a?"#ccc":c?N.a.contrast(l,"white")>2?"white":"black":n.color,cursor:a?"not-allowed":"default",width:"148px",":active":Object(h.a)(Object(h.a)({},e[":active"]),{},{backgroundColor:!a&&(c?n.color:l.alpha(.3).css())})})},input:function(e){return Object(h.a)(Object(h.a)({},e),P())},placeholder:function(e){return Object(h.a)(Object(h.a)({},e),P())},singleValue:function(e,t){var n=t.data;return Object(h.a)(Object(h.a)({},e),P(n.color))}};var I=function(e){var t=e.channelNamesAndColors,n=void 0===t?[]:t,a=e.onChannelSelected,c=void 0===a?function(){}:a,l=e.onDefaultChannelSelected,o=void 0===l?function(){}:l,i={value:"No channel",label:"No channel"},s=[i].concat(Object(x.a)(n.map((function(e){var t=e.name;return{value:t,label:t,color:e.color}}))));return r.a.createElement(y.a,{defaultValue:i,options:s,styles:S,onChange:function(e){"No channel"===e.value?o(e):c(e)},isSearchable:!1})},V=null!=window.glue42gd;var A=function(){var e,t=Object(a.useState)([]),n=Object(v.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)({}),i=Object(v.a)(o,2),s=i[0],d=s.clientId,p=s.client,w=i[1];Object(u.b)((e=function(e){var t=e.clientId;w((function(e){return Object(h.a)(Object(h.a)({},e),{},{clientId:t})}))},function(t){t.channels.subscribe(e)})),Object(a.useEffect)((function(){(function(){var e=Object(m.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/clients/",b);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.find((function(e){return e.id===d})),w((function(e){return Object(h.a)(Object(h.a)({},e),{},{client:a})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]),Object(a.useEffect)((function(){(function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/stocks/",b);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,l(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=Object(a.useMemo)((function(){if(!p)return c;var e=(null===p||void 0===p?void 0:p.portfolio)||[];return c.filter((function(t){var n=t.id;return e.some((function(e){return e.stockId===n}))}))}),[p,c]),x=Object(u.b)(g),C=Object(u.b)(E);return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h1",{id:"title",className:"text-center"},"Portfolio"),V?null:r.a.createElement(I,{key:!0,channelNamesAndColors:x,onChannelSelected:C,onDefaultChannelSelected:function(){return w({clientId:""})}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},p?r.a.createElement(j,{client:p}):null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(k,{stocks:O}))))};var L={web:{factory:o.a,config:{channels:"full"}},desktop:{factory:s.a,config:{channels:"full"}}};l.a.render(r.a.createElement(u.a,{settings:L,glueFactory:o.a},r.a.createElement(A,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/stocks",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){!function(e,t){navigator.serviceWorker.register(e,{scope:"/stocks/",start_url:"/stocks/"}).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}("".concat("/stocks","/sw.js"),e)}))}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.7e67e1fa.chunk.js.map