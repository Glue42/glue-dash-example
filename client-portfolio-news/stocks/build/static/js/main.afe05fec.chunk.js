(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{18:function(e,t,n){e.exports=n(34)},29:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=29},31:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),l=n(15),i=n(6),s=(n(30),n(31),n(2)),u=n.n(s),d=n(5),f=n(1),m=n(7),h={headers:{accept:"application/json"}},v=r.a.createElement("svg",{color:"green",width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-arrow-up-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"})),b=r.a.createElement("svg",{color:"red",width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-arrow-down-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})),p=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.channels.list();case 2:return n=e.sent,a=n.map((function(e){return{name:e.name,color:e.meta.color}})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return function(t){var n=t.value;"No channel"===n?e.channels.my()&&e.channels.leave():e.channels.join(n)}};var E=function(e){var t=e.client;return r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body d-flex justify-content-between"},r.a.createElement("h5",{class:"card-title"},null!=t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.firstName,n=e.lastName;return"".concat(t," ").concat(n)}(t):null),r.a.createElement("p",{class:"card-text"},"Portfolio Value: $",null===t||void 0===t?void 0:t.portfolioValue)))},g=function(e){return e[e.length-1]};var j=function(e){var t=e.stocks;return r.a.createElement("table",{id:"portfolioTable",className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Symbol"),r.a.createElement("th",null,"Name"),r.a.createElement("th",{className:"text-right"},"Percentage Change"),r.a.createElement("th",{className:"text-right"},"Current Price"))),r.a.createElement("tbody",null,t.map((function(e){var t=e.id,n=e.name,a=e.symbol,c=e.lastClosePrice,o=e.lastPrices;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,function(e){var t=e.lastPrices,n=e.lastClosePrice;return g(t)>=n}({lastClosePrice:c,lastPrices:o})?v:b),r.a.createElement("td",null,a&&a.toUpperCase()),r.a.createElement("td",null,n&&n.toUpperCase()),r.a.createElement("td",{className:"text-right"},function(e){var t=e.lastPrices,n=e.lastClosePrice;return((g(t)-n)/n*100).toFixed(2)}({lastPrices:o,lastClosePrice:c})," %"),r.a.createElement("td",{className:"text-right"},"$ ",g(o)))}))))},O=n(9),k=n(12),x=n.n(k),C=n(17),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ccc";return{alignItems:"center",display:"flex",":before":{backgroundColor:e,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}},y={container:function(e){return Object(f.a)(Object(f.a)({},e),{},{width:"148px"})},control:function(e){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:"white"})},option:function(e,t){var n=t.data,a=t.isDisabled,r=t.isFocused,c=t.isSelected,o=x()(n.color||"#E4E5E9");return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:a?null:c?n.color:r?o.alpha(.1).css():null,color:a?"#ccc":c?x.a.contrast(o,"white")>2?"white":"black":n.color,cursor:a?"not-allowed":"default",width:"148px",":active":Object(f.a)(Object(f.a)({},e[":active"]),{},{backgroundColor:!a&&(c?n.color:o.alpha(.3).css())})})},input:function(e){return Object(f.a)(Object(f.a)({},e),N())},placeholder:function(e){return Object(f.a)(Object(f.a)({},e),N())},singleValue:function(e,t){var n=t.data;return Object(f.a)(Object(f.a)({},e),N(n.color))}};var P=function(e){var t=e.channelNamesAndColors,n=void 0===t?[]:t,a=e.onChannelSelected,c=void 0===a?function(){}:a,o=e.onDefaultChannelSelected,l=void 0===o?function(){}:o,i={value:"No channel",label:"No channel"},s=[i].concat(Object(O.a)(n.map((function(e){var t=e.name;return{value:t,label:t,color:e.color}}))));return r.a.createElement(C.a,{defaultValue:i,options:s,styles:y,onChange:function(e){"No channel"===e.value?l(e):c(e)},isSearchable:!1})};var S=function(){var e,t=Object(a.useState)([]),n=Object(m.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({}),s=Object(m.a)(l,2),v=s[0],b=v.clientId,g=v.client,O=s[1];Object(i.b)((e=function(e){var t=e.clientId;O((function(e){return Object(f.a)(Object(f.a)({},e),{},{clientId:t})}))},function(t){t.channels.subscribe(e)})),Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/clients/",h);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.find((function(e){return e.id===b})),O((function(e){return Object(f.a)(Object(f.a)({},e),{},{client:a})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b]),Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/stocks/",h);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var k=Object(a.useMemo)((function(){if(!g)return c;var e=(null===g||void 0===g?void 0:g.portfolio)||[];return c.filter((function(t){var n=t.id;return e.some((function(e){return e.stockId===n}))}))}),[g,c]),x=Object(i.b)(p),C=Object(i.b)(w);return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h1",{id:"title",className:"text-center"},"Portfolio"),r.a.createElement(P,{key:!0,channelNamesAndColors:x,onChannelSelected:C,onDefaultChannelSelected:function(){return O({clientId:""})}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},g?r.a.createElement(E,{client:g}):null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(j,{stocks:k}))))};o.a.render(r.a.createElement(i.a,{config:{channels:!0},glueFactory:l.a},r.a.createElement(S,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/stocks",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){!function(e,t){navigator.serviceWorker.register(e,{scope:"/stocks/",start_url:"/stocks/"}).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}("".concat("/stocks","/sw.js"),e)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.afe05fec.chunk.js.map