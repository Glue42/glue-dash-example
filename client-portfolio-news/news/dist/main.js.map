{"version":3,"sources":["./src/environments/environment.ts","./src/app/data.service.ts","./src/app/glue.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./node_modules/@glue42/web/dist sync","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;;;;;;;ACdxB;;;AAGpC,MAAM,WAAW;IACtB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAI,CAAC;IAElC,OAAO;QACZ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,SAAS,EAAE,CAAC;IAChD,CAAC;IAEY,gBAAgB,CAAC,WAAW;;YACvC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,aAAa,CAAC,CAAC,SAAS,EAAE,CAAC;YAEnE,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,MAAM,KAAK,WAAW,CAAC,CAAC;YAElE,OAAO,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;KAAA;IAEY,aAAa,CAAC,EAAU;;YACnC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,cAAc,CAAC,CAAC,SAAS,EAAE,CAAC;YAErE,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,QAAQ,KAAK,EAAE,CAAC,CAAC;YAEnE,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACjC,CAAC;KAAA;IAEY,oBAAoB,CAAC,QAAgB;;YAChD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;YAElC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC;QACjF,CAAC;KAAA;IAEY,mBAAmB,CAAC,MAAc;;YAC7C,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;YAElC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC;QAChF,CAAC;KAAA;;sEAjCU,WAAW;8FAAX,WAAW,WAAX,WAAW;6FAAX,WAAW;cADvB,wDAAU;;;;;;;;;;;;;;ACHX;AAAA;AAAA;AAAA;AAA2C;;;AAIpC,MAAM,aAAa;IACxB,YAA6B,SAAsB;QAAtB,cAAS,GAAT,SAAS,CAAa;IAAI,CAAC;IAExD,IAAW,aAAa;QACtB,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;IACnC,CAAC;IAEM,yBAAyB,CAAC,OAAqD;QACpF,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;YACjC,OAAO,OAAO,CAAC,MAAM,CAAC,8BAA8B,CAAC,CAAC;SACvD;QAED,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,OAAO,OAAO,CAAC,MAAM,CAAC,6BAA6B,CAAC,CAAC;SACtD;QAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;IACpE,CAAC;;0EAjBU,aAAa;gGAAb,aAAa,WAAb,aAAa;6FAAb,aAAa;cADzB,wDAAU;;;;;;;;;;;;;;;;;;;;;;ACH0D;;;;;;ICM3D,yEACE;IAAA,2EACE;IAAA,8EACF;IAAA,4DAAQ;IACR,wEACE;IAAA,uDACF;IAAA,4DAAI;IACN,4DAAM;;;IAFF,0DACF;IADE,6FACF;;;IAEF,yEACE;IAAA,wEACE;IAAA,qEACF;IAAA,4DAAI;IACN,4DAAM;;;IAqBA,wEACE;IAAA,uDACF;IAAA,4DAAI;;;IADF,0DACF;IADE,wFACF;;;;IAZV,wEACE;IAAA,sEACE;IAAA,0EACE;IADwC,sWAAqC;IAC7E,0EACE;IAAA,0EACE;IAAA,yEACE;IAAA,wEAA2B;IAAA,uDAAa;IAAA,4DAAI;IAC5C,wEACE;IAAA,uDAAuD;IAAA,4DAAI;IAC/D,4DAAM;IACN,uHACE;IAEJ,4DAAM;IACR,4DAAM;IACR,4DAAM;IAER,4DAAM;IACR,qEAAe;;;;IAZwB,0DAAa;IAAb,2EAAa;IAEtC,0DAAuD;IAAvD,kIAAuD;IAEL,0DAA+B;IAA/B,mGAA+B;;AD9B9F,MAAM,YAAY;IAKvB,YACmB,WAAwB,EACxB,WAA0B,EACnC,GAAsB;QAFb,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAe;QACnC,QAAG,GAAH,GAAG,CAAmB;QAPzB,SAAI,GAAU,EAAE,CAAC;IAQpB,CAAC;IAEQ,QAAQ;;YACnB,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAE7C,IAAI,CAAC,WAAW,CAAC,yBAAyB,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC;QACnG,CAAC;KAAA;IAEM,qBAAqB,CAAC,MAAc;QACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;IACvE,CAAC;IAEa,mBAAmB,CAAC,QAAgB;;YAChD,IAAI,QAAQ,EAAE;gBACZ,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;gBAClE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBAC/E,IAAI,CAAC,UAAU,GAAG,GAAG,SAAS,IAAI,QAAQ,EAAE,CAAC;gBAC7C,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;gBAEzB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;gBACzB,OAAO;aACR;QACH,CAAC;KAAA;;wEA/BU,YAAY;4FAAZ,YAAY;QCTzB,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,yEAEE;QAAA,yEACE;QAAA,wGACE;QAOF,wGACE;QAIJ,4DAAM;QACR,4DAAM;QACR,4DAAM;QAER,4DAAM;QACR,4DAAM;QAEN,yEACE;QAAA,yEACE;QAAA,0EACE;QAAA,6HACE;QAkBJ,4DAAO;QACT,4DAAM;QACR,4DAAM;;QA5CgC,0DAAkB;QAAlB,gFAAkB;QAQlB,0DAAmB;QAAnB,iFAAmB;QAerC,0DAAsB;QAAtB,6EAAsB;;6FDpB7B,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,qBAAqB,CAAC;aACnC;;;;;;;;;;;;;;AERD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACjB;AACe;AAET;AAEb;AACI;AACS;AACF;;;AAyBtC,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBANT;QACT,2DAAa;QACb,yDAAW;KACZ,YAhBQ;YACP,uEAAa;YACb,qEAAgB;YAEhB,mDAAQ,CAAC,OAAO,CAAC;gBACf,OAAO,EAAE,mDAAO;gBAChB,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE;oBACN,UAAU,EAAE,MAAM;oBAClB,WAAW,EAAE,OAAO;iBACrB;aACF,CAAC;SACH;mIAOU,SAAS,mBArBlB,2DAAY,aAGZ,uEAAa;QACb,qEAAgB;6FAiBP,SAAS;cAvBrB,sDAAQ;eAAC;gBACR,YAAY,EAAE;oBACZ,2DAAY;iBACb;gBACD,OAAO,EAAE;oBACP,uEAAa;oBACb,qEAAgB;oBAEhB,mDAAQ,CAAC,OAAO,CAAC;wBACf,OAAO,EAAE,mDAAO;wBAChB,QAAQ,EAAE,IAAI;wBACd,MAAM,EAAE;4BACN,UAAU,EAAE,MAAM;4BAClB,WAAW,EAAE,OAAO;yBACrB;qBACF,CAAC;iBACH;gBACD,SAAS,EAAE;oBACT,2DAAa;oBACb,yDAAW;iBACZ;gBACD,SAAS,EAAE,CAAC,2DAAY,CAAC;aAC1B;;;;;;;;;;;;;ACjCD;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA,gC;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,gBAAgB,CAAC,0DAAU;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;ACXpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class DataService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public getNews(): Promise<any> {\r\n    return this.http.get('/api/news').toPromise();\r\n  }\r\n\r\n  public async getStockBySymbol(stockSymbol): Promise<any> {\r\n    const stocks = await this.http.get<any>('/api/stocks').toPromise();\r\n\r\n    const stock = stocks.find(({ symbol }) => symbol === stockSymbol);\r\n\r\n    return Promise.resolve(stock);\r\n  }\r\n\r\n  public async getClientById(id: string): Promise<any> {\r\n    const clients = await this.http.get<any>('/api/clients').toPromise();\r\n\r\n    const client = clients.find(({ id: clientId }) => clientId === id);\r\n\r\n    return Promise.resolve(client);\r\n  }\r\n\r\n  public async getClientRelatedNews(clientId: string): Promise<any[]> {\r\n    const news = await this.getNews();\r\n\r\n    return news.filter((n) => n.relatedTo.clientIds.some((id) => id === clientId));\r\n  }\r\n\r\n  public async getStockRelatedNews(symbol: string): Promise<any> {\r\n    const news = await this.getNews();\r\n\r\n    return news.filter((n) => n.relatedTo.stockSymbols.some((s) => s === symbol));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Glue42Store } from '@glue42/ng';\r\n\r\n@Injectable()\r\nexport class Glue42Service {\r\n  constructor(private readonly glueStore: Glue42Store) { }\r\n\r\n  public get glueAvailable(): boolean {\r\n    return !this.glueStore.initError;\r\n  }\r\n\r\n  public subscribeToSelectedClient(handler: ({ clientId }: { clientId: string }) => void): Promise<() => void> {\r\n    if (typeof handler !== 'function') {\r\n      return Promise.reject('\"handler\" must be a function');\r\n    }\r\n\r\n    if (!this.glueAvailable) {\r\n      return Promise.reject('Glue42 was not initialized.');\r\n    }\r\n\r\n    this.glueStore.glue.contexts.subscribe('SelectedClient', handler);\r\n  }\r\n}\r\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { DataService } from './data.service';\nimport { Glue42Service } from './glue.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  public news: any[] = [];\n  public selectedNewsId;\n  public relevantTo: string;\n\n  constructor(\n    private readonly dataService: DataService,\n    private readonly glueService: Glue42Service,\n    private ref: ChangeDetectorRef\n  ) { }\n\n  public async ngOnInit(): Promise<void> {\n    this.news = await this.dataService.getNews();\n\n    this.glueService.subscribeToSelectedClient(({ clientId }) => this.handleClientContext(clientId));\n  }\n\n  public handleNewsCardClicked(newsId: string): void {\n    this.selectedNewsId = this.selectedNewsId === newsId ? null : newsId;\n  }\n\n  private async handleClientContext(clientId: string): Promise<void> {\n    if (clientId) {\n      this.news = await this.dataService.getClientRelatedNews(clientId);\n      const { firstName, lastName } = await this.dataService.getClientById(clientId);\n      this.relevantTo = `${firstName} ${lastName}`;\n      this.selectedNewsId = '';\n\n      this.ref.detectChanges();\n      return;\n    }\n  }\n}\n","<div class=\"container-fluid sticky-top py-3 border-bottom\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"d-flex justify-content-between\">\r\n\r\n        <div class=\"d-flex justify-content-center align-items-center h-100\">\r\n          <div class=\"text-left pl-1\" *ngIf=\"relevantTo\">\r\n            <small class=\"text-muted text-uppercase mb-1\">\r\n              News relevant to:\r\n            </small>\r\n            <p class=\"card-title font-weight-bold mb-0\">\r\n              {{relevantTo}}\r\n            </p>\r\n          </div>\r\n          <div class=\"text-left pl-1\" *ngIf=\"!relevantTo\">\r\n            <p class=\"card-title font-weight-bold mb-0\">\r\n              All News\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container-fluid my-3\">\r\n  <div class=\"row\">\r\n    <main class=\"col-12\">\r\n      <ng-container *ngFor=\"let n of news\">\r\n        <div>\r\n          <div class=\"card card-news border-bottom\" (click)=\"handleNewsCardClicked(n.id)\">\r\n            <div class=\"d-flex justify-content-center h-100\">\r\n              <div class=\"card-body pl-1\">\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <p class=\"card-title mb-1\">{{ n.title }}</p>\r\n                  <p class=\"card-date text-muted text-right mb-1 ml-2\">\r\n                    {{ n.elapsedTime.value }}{{ n.elapsedTime.period }} ago</p>\r\n                </div>\r\n                <p class=\"card-text text-muted font-weight-bold mb-0\" *ngIf=\"selectedNewsId === n.id\">\r\n                  {{ n.content }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </ng-container>\r\n    </main>\r\n  </div>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppComponent } from './app.component';\n\nimport GlueWeb from '@glue42/web';\nimport { Glue42Ng } from '@glue42/ng';\nimport { Glue42Service } from './glue.service';\nimport { DataService } from './data.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n\n    Glue42Ng.forRoot({\n      factory: GlueWeb,\n      holdInit: true,\n      config: {\n        appManager: 'full',\n        application: 'app-b'\n      }\n    })\n  ],\n  providers: [\n    Glue42Service,\n    DataService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"fStp\";","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}